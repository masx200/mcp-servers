# MCP ç½‘é€Ÿæµ‹è¯•æœåŠ¡

ä¸€ä¸ªåŸºäº MCPï¼ˆModel Context
Protocolï¼‰çš„ç½‘é€Ÿæµ‹è¯•æœåŠ¡ï¼Œå†…ç½®å¤šä¸ªæµ‹è¯•æœåŠ¡å™¨ï¼Œæ— éœ€ç”¨æˆ·æä¾›æµ‹è¯•URLå³å¯æµ‹è¯•ç½‘ç»œå»¶è¿Ÿã€ä¸‹è½½é€Ÿåº¦å’Œä¸Šä¼ é€Ÿåº¦ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸš€ **å»¶è¿Ÿæµ‹è¯•**: æµ‹è¯•ç½‘ç»œå»¶è¿Ÿï¼ˆpingï¼‰
- â¬‡ï¸ **ä¸‹è½½é€Ÿåº¦æµ‹è¯•**: æµ‹è¯•ç½‘ç»œä¸‹è½½é€Ÿåº¦
- â¬†ï¸ **ä¸Šä¼ é€Ÿåº¦æµ‹è¯•**: æµ‹è¯•ç½‘ç»œä¸Šä¼ é€Ÿåº¦
- ğŸ¢ **å¤šæœåŠ¡å™¨æ”¯æŒ**: å†…ç½® Cloudflareã€Fast.comã€GitHub CDN ç­‰æµ‹è¯•æœåŠ¡å™¨
- ğŸ“Š **è¯¦ç»†æŠ¥å‘Š**: æä¾›ç»“æ„åŒ–çš„ JSON æµ‹è¯•ç»“æœ
- ğŸ”§ **çµæ´»é…ç½®**: æ”¯æŒæŒ‡å®šæµ‹è¯•ç±»å‹ã€æŒç»­æ—¶é—´å’ŒæœåŠ¡å™¨

## å®‰è£…ä¸é…ç½®

### 1. å®‰è£…ä¾èµ–å¹¶æ„å»º

```bash
# å®‰è£…ä¾èµ–
npm install

# æ„å»ºé¡¹ç›®
npm run build
```

### 2. é…ç½® MCP å®¢æˆ·ç«¯

åœ¨æ‚¨çš„ MCP å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

#### Claude Desktop (`~/.cursor/mcp.json`)

```json
{
  "mcpServers": {
    "mcp-speed-tester": {
      "command": "node",
      "args": [
        "/path/to/mcp-speed-tester/dist/index.js"
      ],
      "autoApprove": [
        "test_network_speed"
      ]
    }
  }
}
```

#### VS Code ç­‰å…¶ä»–å®¢æˆ·ç«¯

```json
{
  "mcpServers": {
    "mcp-speed-tester": {
      "command": "npx",
      "args": [
        "-y",
        "@mcpcn/mcp-speed-tester"
      ]
    }
  }
}
```

## ä½¿ç”¨æ–¹æ³•

### å·¥å…·ï¼štest_network_speed

#### å‚æ•°è¯´æ˜

- `testType` (å¯é€‰): æµ‹è¯•ç±»å‹
  - `"ping"`: ä»…æµ‹è¯•å»¶è¿Ÿ
  - `"download"`: ä»…æµ‹è¯•ä¸‹è½½é€Ÿåº¦
  - `"upload"`: ä»…æµ‹è¯•ä¸Šä¼ é€Ÿåº¦
  - `"full"`: å…¨é¢æµ‹è¯•ï¼ˆé»˜è®¤ï¼‰
- `durationMs` (å¯é€‰): æµ‹è¯•æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 10000ms
- `serverName` (å¯é€‰): æŒ‡å®šæµ‹è¯•æœåŠ¡å™¨åç§°

#### ä½¿ç”¨ç¤ºä¾‹

##### 1. å…¨é¢æµ‹è¯•ï¼ˆé»˜è®¤ï¼‰

```json
{
  "name": "test_network_speed",
  "arguments": {}
}
```

##### 2. ä»…æµ‹è¯•ä¸‹è½½é€Ÿåº¦

```json
{
  "name": "test_network_speed",
  "arguments": {
    "testType": "download",
    "durationMs": 5000
  }
}
```

##### 3. æŒ‡å®šæœåŠ¡å™¨æµ‹è¯•

```json
{
  "name": "test_network_speed",
  "arguments": {
    "testType": "full",
    "serverName": "Cloudflare"
  }
}
```

##### 4. ä»…æµ‹è¯•å»¶è¿Ÿ

```json
{
  "name": "test_network_speed",
  "arguments": {
    "testType": "ping"
  }
}
```

## å†…ç½®æµ‹è¯•æœåŠ¡å™¨

1. **Cloudflare**: æ”¯æŒå»¶è¿Ÿã€ä¸‹è½½ã€ä¸Šä¼ æµ‹è¯•
2. **Fast.com (Netflix)**: æ”¯æŒå»¶è¿Ÿã€ä¸‹è½½æµ‹è¯•
3. **GitHub CDN**: æ”¯æŒå»¶è¿Ÿã€ä¸‹è½½æµ‹è¯•

## è¿”å›ç»“æœç¤ºä¾‹

```json
{
  "success": true,
  "message": "ç½‘ç»œé€Ÿåº¦æµ‹è¯•å®Œæˆ",
  "testType": "full",
  "duration": "10000ms",
  "timestamp": "2024-01-15T10:30:00.000Z",
  "results": {
    "ping": {
      "Cloudflare": "23ms",
      "Fast.com (Netflix)": "45ms",
      "GitHub CDN": "31ms"
    },
    "download": {
      "Cloudflare": "85.42 Mbps",
      "Fast.com (Netflix)": "æµ‹è¯•å¤±è´¥: è¶…æ—¶",
      "GitHub CDN": "92.15 Mbps"
    },
    "upload": {
      "Cloudflare": "42.18 Mbps",
      "Fast.com (Netflix)": "ä¸æ”¯æŒä¸Šä¼ æµ‹è¯•",
      "GitHub CDN": "ä¸æ”¯æŒä¸Šä¼ æµ‹è¯•"
    }
  }
}
```

## æŠ€æœ¯ç»†èŠ‚

### æµ‹è¯•åŸç†

- **å»¶è¿Ÿæµ‹è¯•**: é€šè¿‡ HTTP GET è¯·æ±‚æµ‹é‡å¾€è¿”æ—¶é—´
- **ä¸‹è½½é€Ÿåº¦**: ä¸‹è½½æŒ‡å®šå¤§å°çš„æ–‡ä»¶å¹¶è®¡ç®—ä¼ è¾“é€Ÿåº¦
- **ä¸Šä¼ é€Ÿåº¦**: ä¸Šä¼ æ•°æ®å—å¹¶è®¡ç®—ä¼ è¾“é€Ÿåº¦

### é»˜è®¤é…ç½®

- ä¸‹è½½æµ‹è¯•æ—¶é—´: 10ç§’
- ä¸Šä¼ æµ‹è¯•æ—¶é—´: 10ç§’
- æµ‹è¯•æ–‡ä»¶å¤§å°: 50MBï¼ˆä¸‹è½½ï¼‰
- æ•°æ®å—å¤§å°: 64KBï¼ˆä¸Šä¼ ï¼‰

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æµ‹è¯•å¤±è´¥**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®
2. **éƒ¨åˆ†æœåŠ¡å™¨å¤±è´¥**: æ­£å¸¸ç°è±¡ï¼Œç¨‹åºä¼šè‡ªåŠ¨å°è¯•å…¶ä»–æœåŠ¡å™¨
3. **ä¸Šä¼ æµ‹è¯•ä¸æ”¯æŒ**: æŸäº›æœåŠ¡å™¨ä¸æ”¯æŒä¸Šä¼ æµ‹è¯•

### æ—¥å¿—è°ƒè¯•

æœåŠ¡å™¨ä¼šåœ¨ stderr è¾“å‡ºè¿è¡Œæ—¥å¿—ï¼Œå¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ã€‚

## å¼€å‘

### æœ¬åœ°å¼€å‘

```bash
# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run dev

# æ„å»º
npm run build

# ç”Ÿäº§è¿è¡Œ
npm run start
```

### æ·»åŠ æ–°æµ‹è¯•æœåŠ¡å™¨

åœ¨ `src/index.ts` ä¸­çš„ `TEST_SERVERS` æ•°ç»„æ·»åŠ æ–°çš„æœåŠ¡å™¨é…ç½®ï¼š

```typescript
{
  name: "æ–°æœåŠ¡å™¨åç§°",
  downloadUrl: "https://example.com/test-file",
  uploadUrl: "https://example.com/upload", // å¯é€‰
  pingUrl: "https://example.com"
}
```

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
